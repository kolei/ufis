# Разбор задания модуля 3

## Создание SQL запроса

>Создайте запрос, позволяющий вычислить полную стоимость заказа покупателя с учетом следующей информации:
>
>- количество продукции в заказе;
>- стоимость всех материалов, использованных для производства данной продукции (учитывая норму расхода).

На мой взгляд, при реальной работе, использовать сумму цен материалов как итог для заказа продуктов нельзя, так как в цене продажи кроме сырья должны учитываться аммортизация оборудования, фонд оплаты труда, НДС и маржа предприятия.

А в задании нужно написать обычный запрос с JOIN-ами и группировкой. Ниже примерный шаблон запроса, так как базы у меня нет

```sql
SELECT
    SUM(
        pm.`Количество маетриала в товаре` * 
        m.`Цена материала` *
        op.`Количество продукта в заказе`
    ) AS Price
FROM `Order` o
JOIN OrderProduct op ON o.id = op.OrderId
JOIN Product p ON op.ProductId = p.id
JOIN ProductMaterial pm ON p.ProductId = pm.ProductId
JOIN Materual m ON m.id = pm.MaterialId
GROUP BY o.id
```

## Задание

Напишите рабочий SQL-запрос по приведенному шаблону для базы данных, созданной в модуле 2. Сохраните получившийся запрос в файл `*.sql` (на демо экзамене этого достаточно, а сейчас опубликуйте в репозитории)